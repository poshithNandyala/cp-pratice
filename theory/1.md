std::vector::push_back — Time Complexity in C++
Basics

push_back(x) → adds an element x to the end of a vector.

Key Terms

size = how many elements are currently in the vector.

capacity = how many elements the vector can store before needing more memory.

full = when size == capacity.

Time Complexity

If not full

Just add the element.

Time: O(1) (very fast).

If full

Allocate a bigger block of memory (usually 2× larger).

Copy/Move all old elements into the new block.

Insert the new element.

Time: O(n) (slower, because it touches every element).

Amortized Cost

Most pushes are O(1).

Sometimes a push is O(n).

On average, over many pushes: O(1).

How to Avoid Reallocation

If you know how many elements you need:

std::vector<int> v;
v.reserve(1000); // reserve space for 1000 elements


Now each push_back will always be O(1).

Important Notes

On reallocation:

All iterators, pointers, references to vector elements become invalid.

emplace_back has the same complexity as push_back.

Growth strategy (2×, 1.5×, etc.) depends on the implementation, but always geometric.

✅ Summary Line

Normal push_back: O(1)

Sometimes (when full): O(n)

On average: Amortized O(1)

With reserve: Always O(1)